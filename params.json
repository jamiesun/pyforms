{"note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Pyforms","google":"UA-33313432-1","tagline":"python web app forms tools","body":"pyforms\r\n=======\r\n\r\npython web app forms tools\r\n\r\nCode is extracted  from web.py\r\n\r\ninstall \r\n=======\r\n\r\n    easy_install pyforms\r\n\r\n    pip install pyforms\r\n\r\nexample of flask \r\n=================\r\n\r\n    #!/usr/bin/env python\r\n    #coding:utf-8\r\n\r\n    from flask import Flask\r\n    from flask import request\r\n    import pyforms as form\r\n    app = Flask(__name__)\r\n\r\n\r\n    is_email = form.regexp('[\\w-]+(\\.[\\w-]+)*@[\\w-]+(\\.[\\w-]+)+$',\"Invalid email format\")\r\n    is_chars = form.regexp(\"^[A-Za-z]+$\",\"Must be in English string\")\r\n    is_alphanum = lambda x:form.regexp(\"^[A-Za-z0-9]{%s}$\"%x,\"Alphanumeric combinations must be length %s\"%x)\r\n    is_alphanum2 = lambda x,y:form.regexp(\"^[A-Za-z0-9]{%s,%s}$\"%(x,y),\"Must be a length of %s to %s alphanumeric combinations\"%(x,y))\r\n    is_number = form.regexp(\"^[0-9]*$\",\"Must be numeric\")\r\n    is_cn = form.regexp(\"^[\\u4e00-\\u9fa5],{0,}$\",\"Must be Chinese characters\")\r\n    is_url = form.regexp('[a-zA-z]+://[^\\s]*',\"Invalid url\")\r\n    is_phone = form.regexp('^(\\(\\d{3,4}\\)|\\d{3,4}-)?\\d{7,8}$',\"Invalid phone numbers\")\r\n    is_idcard = form.regexp('^\\d{15}$|^\\d{18}$|^\\d{17}[Xx]$',\"Invalid ID card number\")\r\n    is_ip = form.regexp(\"\\d+\\.\\d+\\.\\d+\\.\\d+\",\"Invalid ip\")\r\n    is_rmb = form.regexp('^(([1-9]\\d*)|0)(\\.\\d{2})?$',\"Invalid amount of RMB\")\r\n    len_of = lambda x,y:form.regexp(\".{%s,%s}$\"%(x,y),\"Length must be %s to %s\"%(x,y))\r\n\r\n    form1 = form.Form(\r\n        form.Textbox(\"name\",is_alphanum2(6,32),description=\"\"),\r\n        form.Password(\"passwd\",is_alphanum2(6,32),description=\"\"),\r\n        form.Textarea(\"desc\",len_of(1,128),description=\"\",rows=\"5\",),\r\n        form.Button(\"submit\", type=\"submit\",html=\"<b>Submit</b>\"),\r\n    )\r\n\r\n    def render_form(frm):\r\n        return \"<form action='/' method='POST'>%s</form>\"%frm.render()\r\n\r\n    @app.route('/', methods=['POST', 'GET'])\r\n    def hello_world():\r\n        iform = form1()\r\n        if request.method == 'GET':\r\n            return render_form(iform)\r\n        elif request.method == 'POST':\r\n            if not iform.validates(source=request.form): \r\n                return render_form(iform)\r\n            else:\r\n                return \"ok\"  \r\n\r\n    if __name__ == '__main__':\r\n        app.run()"}